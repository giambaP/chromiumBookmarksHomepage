(window.webpackJsonp=window.webpackJsonp||[]).push([["telemetryEdgeChromium"],{RpV0:function(e,t,a){"use strict";a.r(t);var n=a("HHhA"),i=a("jE1l"),r=a("1w6q"),o=a("4k19"),s=a("eoyk"),c=a("gYlL"),u=a("CA7x"),l=a("19qY"),h=a("s9+9");function y(e,t){let a=1;switch(e.selectedFeedDisplaySetting){case o.d.always:a|=8;break;case o.d.headingsOnly:a|=512;break;case o.d.onScroll:a|=64;break;default:a|=0}return e.imageOfTheDayEnabled&&(a|=32),e.greetingEnabled&&t&&(a|=256),e.quickLinksEnabled&&(a|=2),e.currentLayout===o.h.custom&&(a|=128),a}class g extends r.a{constructor(e,t,a,r,o){super(e,t,a,r,o),this.fireTelemetryBeacon=!0,this.isMSASignedin=!1,this.layoutDataConnector=a.connector(h.a.ChromiumPageSettings)||a.connector(h.a.PageLayout);const s=new URLSearchParams(window.location.search);this.firstLaunchParam=s.get("firstlaunch"),this.layoutDataConnector&&(this.layoutDataConnector instanceof n.a?this.layoutDataConnector.getConfigDataAsync().then(e=>{e.isMetricsReportingEnabled&&this.setupLayoutTelemetry()}):this.setupLayoutTelemetry(),this.layoutDataConnector.getPrimaryAccountInfoAsync().then(e=>{this.isMSASignedin=e.accountType===i.c.MSA}))}pageSettingTelemetry(e){if("visible"===document.visibilityState){let t=y(e,this.isMSASignedin);c.a.sitePage.page_configuration=t}}initializeTelemetry(e){if(c.a&&c.a.sitePage){let t=y(e,this.isMSASignedin);c.a.sitePage.page_configuration=t}let t=document.createEvent("Event");t.initEvent("trackvaluesupdated",!0,!0),document.dispatchEvent(t)}setupLayoutTelemetry(){this.layoutDataConnector.getLayoutStateAsync().then(e=>{this.currentLayoutState=e,this.initializeTelemetry(e)}),s.a.updateLayout.registerObserver(e=>{var t=e&&e.params;!t||t.length<1||this.pageSettingTelemetry(t[0])}),l.a.layoutAnimationComplete.registerObserver(()=>{this.layoutDataConnector.getLayoutStateAsync().then(e=>{if("1"===this.firstLaunchParam){if(!this.fireTelemetryBeacon)return;this.fireTelemetryBeacon=!1}this.currentLayoutState!==e&&(this.currentLayoutState=e,u.a.trackPageRefresh())})})}}class d{reduce(e,t){return{}}}a.d(t,"ToolingInfo",function(){return m}),a.d(t,"TelemetryDataEdgeChromiumReducer",function(){return d}),a.d(t,"TelemetryDataEdgeChromiumConnector",function(){return g});const m={experienceConfigSchema:{}}}}]);
//# sourceMappingURL=telemetryEdgeChromium.d83cd091099a49f35788.js.map